<html>
<head>
<title>FB_1BillionUsers.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #0033b3;}
.s1 { color: #080808;}
.s2 { color: #8c8c8c; font-style: italic;}
.s3 { color: #1750eb;}
</style>
</head>
<body bgcolor="#ffffff">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#c0c0c0" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
FB_1BillionUsers.java</font>
</center></td></tr></table>
<pre><span class="s0">package </span><span class="s1">com.alg.other;</span>
<span class="s2">/* 
We have N different apps with different user growth rates. At a given time t, measured in days, the number of users using an app is g^t (for simplicity we'll allow fractional users), where g is the growth rate for that app. These apps will all be launched at the same time and no user ever uses more than one of the apps. We want to know how many total users there are when you add together the number of users from each app. 
After how many full days will we have 1 billion total users across the N apps? 
Signature 
int getBillionUsersDay(float[] growthRates) 
Input 
1.0 &lt; growthRate &lt; 2.0 for all growth rates 
1 &lt;= N &lt;= 1,000 
Output 
Return the number of full days it will take before we have a total of 1 billion users across all N apps. 
Example 1 
growthRates = [1.5] 
output = 52 
Example 2 
growthRates = [1.1, 1.2, 1.3] 
output = 79 
Example 3 
growthRates = [1.01, 1.02] 
output = 1047 
 */</span>
<span class="s0">public class </span><span class="s1">FB_1BillionUsers {</span>
    <span class="s0">public int </span><span class="s1">getBillionUsersDay(</span><span class="s0">float</span><span class="s1">[] growthRates) {</span>
        <span class="s2">// Write your code here</span>
        <span class="s0">int </span><span class="s1">n = growthRates.length;</span>
        <span class="s0">int </span><span class="s1">low = </span><span class="s3">1</span><span class="s1">;</span>
        <span class="s0">int </span><span class="s1">high = Integer.MAX_VALUE;</span>
        <span class="s0">while </span><span class="s1">(low + </span><span class="s3">1 </span><span class="s1">&lt; high) {</span>
            <span class="s0">int </span><span class="s1">mid = low + (high - low) / </span><span class="s3">2</span><span class="s1">;</span>
            <span class="s0">if </span><span class="s1">(reach1B(mid, growthRates)) {</span>
                <span class="s1">high = mid;</span>
            <span class="s1">} </span><span class="s0">else </span><span class="s1">{</span>
                <span class="s1">low = mid;</span>
            <span class="s1">}</span>
        <span class="s1">}</span>
        <span class="s0">if </span><span class="s1">(reach1B(low, growthRates)) {</span>
            <span class="s0">return </span><span class="s1">low;</span>
        <span class="s1">}</span>
        <span class="s0">if </span><span class="s1">(reach1B(high, growthRates)) {</span>
            <span class="s0">return </span><span class="s1">high;</span>
        <span class="s1">}</span>
        <span class="s0">return </span><span class="s1">-</span><span class="s3">1</span><span class="s1">;</span>
    <span class="s1">}</span>
    <span class="s0">private boolean </span><span class="s1">reach1B(</span><span class="s0">int </span><span class="s1">days, </span><span class="s0">float</span><span class="s1">[] rates) {</span>
        <span class="s0">double </span><span class="s1">total = </span><span class="s3">0</span><span class="s1">;</span>
        <span class="s0">for </span><span class="s1">(</span><span class="s0">int </span><span class="s1">i = </span><span class="s3">0</span><span class="s1">; i &lt; rates.length; i++) {</span>
            <span class="s1">total += Math.pow(rates[i], days);</span>
        <span class="s1">}</span>
        <span class="s0">return </span><span class="s1">total &gt;= </span><span class="s3">1_000_000_000</span><span class="s1">;</span>
    <span class="s1">}</span>

    <span class="s0">public static void </span><span class="s1">main(String[] args) {</span>
        <span class="s0">float</span><span class="s1">[] rates = {(</span><span class="s0">float</span><span class="s1">) </span><span class="s3">1.1</span><span class="s1">, (</span><span class="s0">float</span><span class="s1">) </span><span class="s3">1.2</span><span class="s1">, (</span><span class="s0">float</span><span class="s1">) </span><span class="s3">1.3</span><span class="s1">};</span>
        <span class="s1">FB_1BillionUsers f = </span><span class="s0">new </span><span class="s1">FB_1BillionUsers();</span>
        <span class="s1">System.out.println(f.getBillionUsersDay(rates));</span>
    <span class="s1">}</span>
<span class="s1">}</span>
</pre>
</body>
</html>